<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>出品管理</title>
	<link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
	<div class="container">
		<h1>出品管理</h1>
		<p>あなたが出品した商品の一覧です。</p>
		<div class="main-nav">
			<a th:href="@{/items/new}" class="button">新しい商品を出品する</a>
			<a th:href="@{/my-page}" class="button secondary">マイページに戻る</a>
		</div>
		<div class="item-grid">
			<div class="item-card" th:each="item : ${sellingItems}">
				<a th:href="@{/items/{id}(id=${item.id})}">
					<img th:src="${item.imageUrl != null ? item.imageUrl :
		'/images/placeholder.png'}" alt="商品画像">
					<h3 th:text="${item.name}"></h3>
					<p class="price" th:text="'¥' + ${#numbers.formatDecimal(item.price, 0,
		'COMMA', 0, 'POINT')}"></p>
					<p class="status" th:text="${item.status}"></p>
				</a>
				<div class="button-group">
					<a th:href="@{/items/{id}/edit(id=${item.id})}" class="button secondary">
						編集</a>
					<form th:action="@{/items/{id}/delete(id=${item.id})}" method="post" style="display:inline;">
						<button type="submit" class="button danger" onclick="return confirm('本当にこの商品を削除しますか？');">削除</button>
					</form>
				</div>
			</div>
			<div th:if="${#lists.isEmpty(sellingItems)}">
				<p>出品中の商品はありません。</p>
			</div>
		</div>
	</div>
</body>
</html>